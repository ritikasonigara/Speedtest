<!DOCTYPE html>
<html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
    $(document).ready(function(){
    $("button").click(function(){
    $.ajax({url: "http://localhost:5000/currentspeed", success: function(result){
      var obj = JSON.parse(result);
      $("#div2").html("Ping(ms):"+obj[0]+"<br>"+"Download(Mbps):"+obj[1] +"<br>"+"Upload(Mbps):"+obj[2]);
      console.log("Ping(ms):",obj[0])
      console.log("Download(Mbps):",obj[1])
      console.log("Upload(Mbps):",obj[2])
    }});
  });
});

    $(document).ready(function(){
    $("#theForm").ajaxSubmit({url: "http://localhost:5000/monitorspeed", type: 'post', success: function(result){
        console.log("Started monitoring your internetspeed")
    }});
  });
    
    $(document).ready(function plot() {
    $.ajax({url: "http://localhost:5000/plot", success: function(result) {
        document.getElementById('aa').src = result;
    },
    complete: function() {
      // Schedule the next request when the current one's complete
      setTimeout(plot, (5000));
    }
  });
});


</script>
</head>
<body>
    <div id="div1"><h2>Find the Internet speed here.</h2></div>
    <button>Go</button>
    <br></br>
    <div id="div2"></div>
    <h2>Select a Plan from the drop-down list.</h2>
    <form>
    <label for="Data plans">Choose your Broadband plan:</label>
    <select name="plans" id="theForm">
        <option value="10">10Mbps</option>
        <option value="25">25Mbps</option>
        <option value="50">50Mbps</option>
        <option value="100">100Mbps</option>
        <option value="200">200Mbps</option>
        <option value="300">300Mbps</option>
        <option value="400">400Mbps</option>
    </select>
    <br><br>
    <input type="submit" value="Monitor">
    </form>
    <br><br>
    <img id="aa" />
</body>
</html>